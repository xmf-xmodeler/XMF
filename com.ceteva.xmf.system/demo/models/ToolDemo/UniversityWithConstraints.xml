<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<XModeler>
  <Version>2</Version>
  <Categories/>
  <Projects>
    <Project name="Root::University"/>
  </Projects>
  <Diagrams>
    <Diagram label="Assignment" package_path="Root::University" showDerivedAttributes="true" showDerivedOperations="false" showGettersAndSetters="false" showOperationValues="true" showOperations="true" showSlots="true">
      <Categories/>
      <Owners/>
      <Objects>
        <Object hidden="false" ref="Root::University::Lecturer" x="621" y="448"/>
        <Object hidden="false" ref="Root::University::Course" x="763" y="239"/>
        <Object hidden="false" ref="Root::University::Student" x="407" y="250"/>
        <Object hidden="false" ref="Root::University::Exam" x="686" y="43"/>
        <Object hidden="false" ref="Root::University::Person" x="231" y="414"/>
      </Objects>
      <Edges>
        <Edge name="teaches" parent_association="VOID" ref="Root::University::teaches" source_port="EAST" target_port="EAST" type="association">
          <IntermediatePoints>
            <IntermediatePoint x="1015.52344" y="480.43164"/>
            <IntermediatePoint x="1015.52344" y="329.48438"/>
          </IntermediatePoints>
        </Edge>
        <Edge name="registeredFor" parent_association="VOID" ref="Root::University::registeredFor" source_port="EAST" target_port="WEST" type="association">
          <IntermediatePoints>
            <IntermediatePoint x="666.7617" y="307.05273"/>
            <IntermediatePoint x="666.7617" y="306.86328"/>
          </IntermediatePoints>
        </Edge>
        <Edge ref="DelegationMapping: Root::University::Student/Root::University::Person" source_port="WEST" target_port="NORTH" type="delegation">
          <IntermediatePoints>
            <IntermediatePoint x="304.65118" y="306.82602"/>
            <IntermediatePoint x="304.65118" y="370.96356"/>
            <IntermediatePoint x="305.0122" y="370.96356"/>
          </IntermediatePoints>
        </Edge>
        <Edge ref="DelegationMapping: Root::University::Lecturer/Root::University::Person" source_port="WEST" target_port="EAST" type="delegation">
          <IntermediatePoints>
            <IntermediatePoint x="716.0" y="480.4357"/>
            <IntermediatePoint x="716.0" y="480.36328"/>
          </IntermediatePoints>
        </Edge>
        <Edge name="grades" parent_association="VOID" ref="Root::University::grades" source_port="SOUTH" target_port="NORTH" type="association">
          <IntermediatePoints>
            <IntermediatePoint x="685.7617" y="553.22314"/>
            <IntermediatePoint x="1084.716" y="553.22314"/>
            <IntermediatePoint x="1084.716" y="14.024741"/>
            <IntermediatePoint x="780.4838" y="14.024741"/>
          </IntermediatePoints>
        </Edge>
        <Edge name="takes" parent_association="VOID" ref="Root::University::takes" source_port="NORTH" target_port="WEST" type="association">
          <IntermediatePoints>
            <IntermediatePoint x="490.0835" y="99.611786"/>
            <IntermediatePoint x="650.0" y="99.611786"/>
            <IntermediatePoint x="650.0" y="100.052734"/>
          </IntermediatePoints>
        </Edge>
        <Edge name="relatesTo" parent_association="VOID" ref="Root::University::relatesTo" source_port="EAST" target_port="EAST" type="association">
          <IntermediatePoints>
            <IntermediatePoint x="1042.5338" y="100.052734"/>
            <IntermediatePoint x="1042.5338" y="284.2422"/>
          </IntermediatePoints>
        </Edge>
      </Edges>
      <Labels>
        <Label localID="5" ownerID="Root::University::teaches" x="-82.30859" y="10.0"/>
        <Label localID="3" ownerID="Root::University::teaches" x="-82.30859" y="-28.621094"/>
        <Label localID="4" ownerID="Root::University::teaches" x="96.79199" y="10.0"/>
        <Label localID="5" ownerID="Root::University::registeredFor" x="-112.538574" y="10.0"/>
        <Label localID="0" ownerID="Root::University::grades" x="85.443985" y="237.49481"/>
        <Label localID="3" ownerID="Root::University::grades" x="-82.30859" y="-44.836914"/>
        <Label localID="3" ownerID="Root::University::registeredFor" x="-100.63037" y="-28.621094"/>
        <Label localID="2" ownerID="Root::University::grades" x="104.01416" y="-47.63867"/>
        <Label localID="4" ownerID="Root::University::registeredFor" x="96.79199" y="43.93164"/>
        <Label localID="2" ownerID="Root::University::registeredFor" x="96.79199" y="5.310547"/>
        <Label localID="0" ownerID="Root::University::registeredFor" x="-49.06748" y="-23.912743"/>
        <Label localID="5" ownerID="Root::University::grades" x="-82.30859" y="-6.2158203"/>
        <Label localID="4" ownerID="Root::University::grades" x="104.01416" y="-9.017578"/>
        <Label localID="5" ownerID="Root::University::takes" x="-112.538574" y="-18.526367"/>
        <Label localID="4" ownerID="Root::University::takes" x="104.01416" y="29.017578"/>
        <Label localID="3" ownerID="Root::University::relatesTo" x="-111.561035" y="-28.621094"/>
        <Label localID="4" ownerID="Root::University::relatesTo" x="96.79199" y="-23.93164"/>
        <Label localID="2" ownerID="Root::University::relatesTo" x="96.79199" y="-62.552734"/>
        <Label localID="0" ownerID="Root::University::relatesTo" x="102.821396" y="-124.55603"/>
        <Label localID="0" ownerID="Root::University::takes" x="-68.95598" y="-129.2889"/>
        <Label localID="3" ownerID="Root::University::takes" x="-100.63037" y="-57.14746"/>
        <Label localID="2" ownerID="Root::University::takes" x="104.01416" y="-9.603516"/>
        <Label localID="2" ownerID="Root::University::teaches" x="96.79199" y="-28.621094"/>
        <Label localID="0" ownerID="Root::University::teaches" x="81.831314" y="67.51235"/>
        <Label localID="2" ownerID="DelegationMapping: Root::University::Lecturer/Root::University::Person" x="84.01221" y="-50.742188"/>
        <Label localID="5" ownerID="Root::University::relatesTo" x="-125.17822" y="10.0"/>
        <Label localID="2" ownerID="DelegationMapping: Root::University::Student/Root::University::Person" x="84.01221" y="-6.5"/>
      </Labels>
      <Preferences/>
      <View name="Main View" tx="-112.89115" ty="43.372578" xx="1.0905077"/>
    </Diagram>
  </Diagrams>
  <Logs>
    <addMetaClass abstract="false" level="1" name="Person" package="Root::University" parents=""/>
    <addMetaClass abstract="false" level="1" name="Student" package="Root::University" parents=""/>
    <addMetaClass abstract="false" level="1" name="Lecturer" package="Root::University" parents=""/>
    <addMetaClass abstract="false" level="1" name="Exam" package="Root::University" parents=""/>
    <addMetaClass abstract="false" level="1" name="Course" package="Root::University" parents=""/>
    <addAttribute class="Root::University::Course" level="0" multiplicity="Seq{1,1,true,false}" name="credits" package="Root::University" type="Root::XCore::Integer"/>
    <addAttribute class="Root::University::Exam" level="0" multiplicity="Seq{1,1,true,false}" name="date" package="Root::University" type="Root::Auxiliary::Date"/>
    <addAttribute class="Root::University::Lecturer" level="0" multiplicity="Seq{1,1,true,false}" name="title" package="Root::University" type="Root::XCore::String"/>
    <addAttribute class="Root::University::Person" level="0" multiplicity="Seq{1,1,true,false}" name="dateOfBirth" package="Root::University" type="Root::Auxiliary::Date"/>
    <addAttribute class="Root::University::Person" level="0" multiplicity="Seq{1,1,true,false}" name="firstName" package="Root::University" type="Root::XCore::String"/>
    <addAttribute class="Root::University::Person" level="0" multiplicity="Seq{1,1,true,false}" name="lastName" package="Root::University" type="Root::XCore::String"/>
    <addAttribute class="Root::University::Student" level="0" multiplicity="Seq{1,1,true,false}" name="matNo" package="Root::University" type="Root::XCore::String"/>
    <addOperation body="@Operation numOfCandidates[monitor=true]():XCore::Integer&#10;  University::Student.allInstances()-&gt;select(i |&#10;    i.getExams()-&gt;includes(self))&#10;end" class="Root::University::Exam" level="0" monitored="true" name="numOfCandidates" package="Root::University" paramNames="" paramTypes="" type="Root::XCore::Integer"/>
    <addOperation body="@Operation numOfStudents[monitor=true]():XCore::Integer&#10;  let studColl = Set{}&#10;  in University::Student.allInstances().asSeq()-&gt;iterate(i |&#10;       if i.getCourses().includes(self)&#10;     then studColl-&gt;includes(i)&#10;     else false&#10;     end );&#10;     studColl&#10;  end&#10;end" class="Root::University::Course" level="0" monitored="true" name="numOfStudents" package="Root::University" paramNames="" paramTypes="" type="Root::XCore::Integer"/>
    <addOperation body="@Operation numbOfExams[monitor=true]():XCore::Integer&#10;  self.getExams().size()&#10;end" class="Root::University::Student" level="0" monitored="true" name="numbOfExams" package="Root::University" paramNames="" paramTypes="" type="Root::XCore::Integer"/>
    <addOperation body="@Operation regStudents[monitor=false,delToClassAllowed=false]():XCore::Element&#10;  University::Student.allInstances()-&gt;select(i |&#10;    i.getCourses()-&gt;includes(self))&#10;end" class="Root::University::Course" level="0" monitored="false" name="regStudents" package="Root::University" paramNames="" paramTypes="" type="Root::XCore::Element"/>
    <addOperation body="@Operation yearsOfAge[monitor=true,delToClassAllowed=false]():XCore::Integer&#10;  self.dateOfBirth.age()&#10;end" class="Root::University::Person" level="0" monitored="true" name="yearsOfAge" package="Root::University" paramNames="" paramTypes="" type="Root::XCore::Integer"/>
    <addConstraint body="not self.regStudents().asSeq()-&gt;exists(i |&#10;     i.roleFiller = self.getLecturer().roleFiller)" class="Root::University::Course" constName="noLecturerAsStudent" instLevel="0" package="Root::University" reason="&quot;Lecturer must not register as student.&quot;"/>
    <addConstraint body="self.getExams().asSeq().size() = 0 and not self.getExams().asSeq()-&gt;exists(i |&#10;     self.getCourses()-&gt;exists(j |&#10;     j = i))" class="Root::University::Student" constName="eligibleForExam" instLevel="0" package="Root::University" reason="&quot;Only eligible for exam if registered for course.&quot;"/>
    <addConstraint body="self.getLecturer() = self.getCourse().getLecturer()" class="Root::University::Exam" constName="properLecturer" instLevel="0" package="Root::University" reason="&quot;Lecturer must teach corresponding course.&quot;"/>
    <addAssociation accessSourceFromTargetName="exam" accessTargetFromSourceName="course" classSource="Root::University::Exam" classTarget="Root::University::Course" fwName="relatesTo" instLevelSource="0" instLevelTarget="0" isSymmetric="false" isTransitive="false" multSourceToTarget="Seq{1,1,true,false}" multTargetToSource="Seq{0,1,true,false}" package="Root::University" reverseName="-1" sourceVisibleFromTarget="false" targetVisibleFromSource="true"/>
    <addAssociation accessSourceFromTargetName="lecturer" accessTargetFromSourceName="course" classSource="Root::University::Lecturer" classTarget="Root::University::Course" fwName="teaches" instLevelSource="0" instLevelTarget="0" isSymmetric="false" isTransitive="false" multSourceToTarget="Seq{0,-1,false,false}" multTargetToSource="Seq{1,1,true,false}" package="Root::University" reverseName="-1" sourceVisibleFromTarget="true" targetVisibleFromSource="false"/>
    <addAssociation accessSourceFromTargetName="lecturer" accessTargetFromSourceName="exam" classSource="Root::University::Lecturer" classTarget="Root::University::Exam" fwName="grades" instLevelSource="0" instLevelTarget="0" isSymmetric="false" isTransitive="false" multSourceToTarget="Seq{0,-1,false,false}" multTargetToSource="Seq{1,1,true,false}" package="Root::University" reverseName="-1" sourceVisibleFromTarget="true" targetVisibleFromSource="false"/>
    <addAssociation accessSourceFromTargetName="student" accessTargetFromSourceName="course" classSource="Root::University::Student" classTarget="Root::University::Course" fwName="registeredFor" instLevelSource="0" instLevelTarget="0" isSymmetric="false" isTransitive="false" multSourceToTarget="Seq{0,-1,false,false}" multTargetToSource="Seq{1,-1,false,false}" package="Root::University" reverseName="-1" sourceVisibleFromTarget="false" targetVisibleFromSource="true"/>
    <addAssociation accessSourceFromTargetName="student" accessTargetFromSourceName="exam" classSource="Root::University::Student" classTarget="Root::University::Exam" fwName="takes" instLevelSource="0" instLevelTarget="0" isSymmetric="false" isTransitive="false" multSourceToTarget="Seq{0,-1,false,false}" multTargetToSource="Seq{1,-1,false,false}" package="Root::University" reverseName="-1" sourceVisibleFromTarget="false" targetVisibleFromSource="true"/>
    <addDelegation delegateFrom="Root::University::Lecturer" delegateTo="Root::University::Person" delegateToLevel="0" package="Root::University"/>
    <addDelegation delegateFrom="Root::University::Student" delegateTo="Root::University::Person" delegateToLevel="0" package="Root::University"/>
  </Logs>
</XModeler>
